<% content_for :content_settings do %>
<% provide(:title, 'cloud_books') %>
<%= render :partial => "contents/header" , :locals => {:head => "Cloud Books"}%>
<div id="breadcrumb">
<%= render_breadcrumbs %>
</div>
<div class="container-fluid">

<%= form_for @book, :html => {:multipart => true }, :remote => true,  data: { spinlock: '#spin_user_book'}, :method => 'post' do |f| %>
	<div class="row-fluid">
		<div class="span12">
			<% @book_name = book_name %>
			<div class="widget-box">
				<div class="widget-title">
					<span class="icon"> <i class="icon-th-list"></i> </span>
					<h5>Cloud Book Name</h5>
				</div>
				<div class="widget-content">
					<p class="help-block">
						<strong><span class="label label-info">*optional</span> Click on the default book name to change it</strong>
					</p>
					</br>
					<div class="span12">
						<div class="span7">
							<%= link_to  @book_name, "#", :id => "identity_new_account_name",
							:class => "btn btn-large btn-primary disabled btn-block", :disabled => "disabled",
							:data => { :type => 'text', :name => 'book_name'} %>
						</div>
						<div class = "span4">
							<%= link_to  ".megam.co", "#", :class => "btn btn-large btn-primary disabled btn-block", :id => 'domain'%>
						</div>
					</div>
					<br/>
					<br/>
					<br/>
					<%= f.text_field :domain_name, :type => 'hidden', :id => 'domainname' %>
					<%= f.text_field :predef_cloud_name, :id => 'predefcloudname', :type => 'hidden' %>
				</div>
			</div>
		</div>
	</div>


	<div class="widget-box">
		<div class="widget-title">
			<span class="icon"> <i class="icon-th-list"></i> </span>
			<h5>Predefs</h5>
		</div>
		<div class="widget-content">
									<div class="control-group">
										<label class="control-label">Predef Clouds</label>
										<div class="controls">
											<select>
			<% @predef_cloud.each do |a| %>
				<option><%= a.name %></option>
			<% end %> 
											</select>
										</div>
									</div>
			<!-- <%= @predef.lookup(@predef_name).build_monkey %> -->
			<%= @predef.lookup(@predef_name) %>
		</div>
	</div>

	<div class="widget-box">
		<div class="widget-title">
			<span class="icon"> <i class="icon-th-list"></i> </span>
			<h5>Cloud Book Dependencies</h5>
			<div class="buttons">
				<%= render :partial => "customizations/refresh" %>
			</div>
		</div>
		<div class="widget-content">
			<div class="accordion" id="collapse-group">
				<div class="accordion-group widget-box">
					<div class="accordion-heading">
						<div class="widget-title">
							<a data-parent="#collapse-group" href="#collapseGOne" data-toggle="collapse"> <span class="icon"><i class="icon-magnet"></i></span><h5>SCM</h5> </a>
						</div>
					</div>
					<div class="collapse in accordion-body" id="collapseGOne">
						<div class="widget-content">
							SCM : <span class="full_text"> <%= f.text_field :deps_scm, :class => 'text_field', placeholder: "git@github.com:username/project.git" %> </span>
						</div>
					</div>
				</div>
				<div class="accordion-group widget-box">
					<div class="accordion-heading">
						<div class="widget-title">
							<a data-parent="#collapse-group" href="#collapseGTwo" data-toggle="collapse"> <span class="icon"><i class="icon-magnet"></i></span><h5>WAR <span class="badge badge-info">*For java only</span></h5> </a>
						</div>
					</div>
					<div class="collapse accordion-body" id="collapseGTwo">
						<div class="widget-content">
							WAR : <span class="full_text"> <%= f.text_field :deps_war, :class => 'text_field', placeholder: "https://s3-ap-southeast-1.amazonaws.com/bucket_name/folder_name/file_name.war" %> </span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="widget-box">
		<div class="widget-title">
			<span class="icon"> <i class="icon-th-list"></i> </span>
			<h5>Cloud Book Settings</h5>
			<div class="buttons">
				<%= render :partial => "customizations/refresh" %>
			</div>
		</div>
		<div class="widget-content" style="height: 340px;  overflow-y: scroll;">
			<div class="span5">
				<div class="widget-box">
					<div class="widget-title">
						<span class="icon"> <i class="icon-th"></i> </span>
						<h5>Default predef's</h5>
					</div>
					<div class="widget-content">
						<%= link_to  "ec2_rails", "#",:class => "btn btn-large btn-primary disabled btn-block", :disabled => "disabled"	 %>
						<%= link_to  "ec2_java", "#",:class => "btn btn-large btn-primary disabled btn-block", :disabled => "disabled"	 %>
						<%= link_to  "rackspace_play", "#",:class => "btn btn-large btn-primary disabled btn-block", :disabled => "disabled"	 %>
						<%= link_to  "rackspace_akka", "#",:class => "btn btn-large btn-primary disabled btn-block", :disabled => "disabled"	 %>
						<%= link_to  "rackspace_nodejs", "#",:class => "btn btn-large btn-primary disabled btn-block", :disabled => "disabled"	 %>
					</div>
				</div>
			</div>
			<div class="span5">
				<div class="widget-box">
					<div class="widget-title">
						<span class="icon"> <i class="icon-th"></i> </span>
						<h5>User selected predef's</h5>
					</div>
					<div class="widget-content" style="height: 250px;  overflow-y: scroll;">
						<table class="table table-striped table-bordered">
							<tbody>
								<tr>
									<td class="taskDesc">Groups</td>
									<td class="taskStatus"><span class="full_text"> <%= text_field :group, :class => 'required', placeholder: "groups" %> </span></td>
								</tr>
								<tr>
									<td class="taskDesc">Image</td>
									<td class="taskStatus"><span class="full_text"> <%= text_field :image, :class => 'required', placeholder: "image" %> </span></td>
								</tr>
								<tr>
									<td class="taskDesc">Flavor</td>
									<td class="taskStatus"><span class="full_text"> <%= text_field :flavor, :class => 'required', placeholder: "flavor" %> </span></td>
								</tr>
								<tr>
									<td class="taskDesc">SSH-Key</td>
									<td class="taskStatus"><span class="full_text"> <%= text_field :ssh_key, :class => 'required', placeholder: "ssh-key" %> </span></td>
								</tr>
								<tr>
									<td class="taskDesc">Identity-File</td>
									<td class="taskStatus"><span class="full_text"> <%= text_field :identity_file, :class => 'required', placeholder: "identity-file" %> </span></td>
								</tr>
								<tr>
									<td class="taskDesc">SSH-User</td>
									<td class="taskStatus"><span class="full_text"> <%= text_field :ssh_user, :class => 'required', placeholder: "ssh-user" %> </span></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class = "span1">
				<br/>
				<br/>
				<br/>
				<button class="btn btn-primary">
					Add
				</button>
				<br/>
				<br/>
				<br/>
				<button class="btn btn-primary">
					Save
				</button>
			</div>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
		</div>
	</div>
</div>
<div id="postfinish_popup" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			Ã—
		</button>
		<h3 id="myModalLabel">Cloud Book</h3>
	</div>
	<div class="modal-body">

		<p>
			Your cloud book create request was send megam API server, after few minutes your platform will be run....!
		</p>
	</div>
	<div class="modal-footer" id="history_path"></div>
</div>
<div id="submitted"></div>
<% end %>

</div>
                     
<% end %>
<%= render :template => users_show_path %>
