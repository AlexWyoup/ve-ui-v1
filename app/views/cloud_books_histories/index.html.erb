<% content_for :content_settings do %>
<% provide(:title, 'cloud_book_history') %>
<%= render :partial => "contents/header" , :locals => {:head => "CLoud Book Histories"}%>
<div id="breadcrumb">
<%= render_breadcrumbs %>
</div>

<div class="container-fluid">
	<div class="widget-box">
		<div class="widget-title">
			<span class="icon"> <i class="icon-th-list"></i> </span>
			<h5>Cloud Books Run History</h5>
		</div>
		<div class="widget-content" style="height: 200px;  overflow-y: scroll;">

			<table class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>book_name</th>
						<th>request_id</th>
						<th>status</th>
					</tr>
				</thead>
				<br/>
				<tbody>
					<% @books.each do |cloud_book| %>
					<% cloud_book.cloud_books_histories.each do |history| %>					
					<tr>
					<!--<td><%= render :partial => "cloud_books_histories/log_button", :locals => {:book_name => history.book_name} %></td>-->
					<td><%= link_to history.book_name, history.book_name, :id => 'domain_link' %></td>
						<td> <%= history.request_id %> </td>
						<td> <%= history.status %> </td>
					</tr>
					<% end %>
					<% end %>
				</tbody>
			</table>
		</div>
	</div>
	<div class="widget-box">
		<div class="widget-title">
			<span class="icon"> <i class="icon-th-list"></i> </span>
			<h5>Watch Realtime Log</h5>
		</div>
		<div class="widget-content" style="height: 200px;  overflow-y: scroll;">
			<table class="table table-striped table-bordered">
				<thead id="log_contents">
					<tr class="alert">
						<th>Level</th>
						<th>Timestamp</th>
						<th>Dump</th>
					</tr>
					
				</thead>
				<br/>
				<tbody>
					<tr class="success" ></tr>
				</tbody>
			</table>
		</div>
	</div>
	
	<% end %>
	<%= render :template => users_show_path %>
