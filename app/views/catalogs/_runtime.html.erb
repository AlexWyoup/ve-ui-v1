<!--
** Copyright [2013-2015] [Megam Systems]
**
** Licensed under the Apache License, Version 2.0 (the "License");
** you may not use this file except in compliance with the License.
** You may obtain a copy of the License at
**
** http://www.apache.org/licenses/LICENSE-2.0
**
** Unless required by applicable law or agreed to in writing, software
** distributed under the License is distributed on an "AS IS" BASIS,
** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
** See the License for the specific language governing permissions and
** limitations under the License.
-->
<% provide(:title, 'Runtime') %>
<div class="rt-box col-xs-12 col-sm-8 col-md-9 col-lg-9 col-xl-9">
  <div class="row c_pading-b15 settings_top">
    <div class="margin_15">
      <div class="col-xs-9 col-sm-6 col-md-7">
        <h3> Monitoring Console </h3>
      </div>
      <%= render :partial => "users/topright_icons" %>
    </div>
  </div>
  
  <div ng-controller="Ctrl">
    <pie-chart data="chartData" title="{{chartTitle}}" width="{{chartWidth}}" height="{{chartHeight}}" select="selectRow(selectedRowIndex)"></pie-chart>
    <p>Since this is a demo, lets add fields instead of connecting to db...</p>
    <div class="left">
         <h2>Chart Data</h2> 
        <table>
            <tr ng-repeat="row in chartData" ng-class="rowClass($index)">
                <td>
                    <input ng-model="row[0]">
                    <input ng-model="row[1]">
                    <button ng-click="deleteRow($index)">&times;</button>
                </td>
            </tr>
        </table>
        <button ng-click="addRow()">Add new row</button>
    </div>
    <div class="right">
         <h2>Chart Info</h2> Title:
        <input ng-model="chartTitle" class="title">
        <br/>Width:
        <input ng-model="chartWidth">
        <br/>Height:
        <input ng-model="chartHeight">
        <br/>
    </div>
</div>
  
  <!-- <ng-view ng-show="resolved" ng-cloak></ng-view> -->
</div>

<script>
  (function($) {
  $.Sources = JSON.parse('<%= raw Sources.sources.to_json %> ');
  $.AppName = "<%= @appname %>";
  $.SocketURL = "<%= Ind.websocket_tap %>";  
   })($);
</script>
