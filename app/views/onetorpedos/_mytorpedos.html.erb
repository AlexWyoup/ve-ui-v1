<!--
** Copyright [2013-2015] [Megam Systems]
**
** Licensed under the Apache License, Version 2.0 (the "License");
** you may not use this file except in compliance with the License.
** You may obtain a copy of the License at
**
** http://www.apache.org/licenses/LICENSE-2.0
**
** Unless required by applicable law or agreed to in writing, software
** distributed under the License is distributed on an "AS IS" BASIS,
** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
** See the License for the specific language governing permissions and
** limitations under the License.
-->
<% content_for :onecat_contents do %>
<% provide(:title, "Torpedo Overview") %>

<div class="rt-box col-xs-12 col-sm-8 col-md-9 col-lg-9 col-xl-9">
  <div class="">
    <div class="row c_pading-b15">
      <div class="storage_top">
        <div class="col-xs-12 col-sm-6 col-md-6">
          <h3>
            <b>
              Torpedo Overview
            </b>
          </h3>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-6 settings_grid yf-upload-cover">
          <a class="btn blue col-xs-12 col-sm-6 pull-right" data-toggle="modal" href="#app-1">Bind a service</a>
        </div>

      </div>
    </div>
  </div>
  <div class="bottom-divider"></div>
  <div class="row">
    <div class="col-xs-12 col-sm-9 col-md-9 br_grey">
      <div class="tabbable-custom nav-justified margintb_15">
        <ul class="nav nav-tabs nav-justified">
          <li id="tab1" class="active">
            <a data-toggle="tab" href="#tab_1">
                 CPU
            </a>

          </li>
  <li id="tab2">
            <a data-toggle="tab" href="#tab_2">
              Logs
            </a>

          </li>
  <li id="tab3">
            <a data-toggle="tab" href="#tab_3">
              OS
            </a>
          </li>
        </ul>

        <div class="tab-content c_tab-content">
          <div class="tab-pane active" id="tab_1">
            <div class="demo-container">
              <div class="demo-placeholder">
              <%= render 'catalogs/cpu_total' %>
              </div>
            </div>
          </div>
    <div class="tab-pane" id="tab_2">
            <div class="demo-container">
              <div class="demo-placeholder">

              </div>
            </div>
          </div>
    <div class="tab-pane " id="tab_3">

            <div class="demo-container">
              <div class="demo-placeholder" id="chart_3"></div>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="col-xs-12 margint_60">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
              <% domain = assembly.inputs.select { |x| x["key"] == "domain" }[0]['value'] %>
              <% @logname = "#{assembly.name}.#{domain}" %>
              <div class="margint_30" style=" margin-left: 50px">
              <%= render 'catalogs/logs' %>
            </div>

            </div>
        </div>
      </div>
    </div>

    <div class="col-sm-3 storage-rt-list">
      <dl>
        <h3>Usage</h3>
        <dt><%= t('overviews.available_ram') %></dt>
        <dd><%= assembly.inputs.select { |x| x["key"] == "ram" }[0]['value'] %>
          <%= t('overviews.mb') %></dd>
        <dt class="margin-top-20"></dt>
        <dt><%= t('overviews.cpu_core') %></dt>
        <dd><%= assembly.inputs.select { |x| x["key"] == "cpu" }[0]['value'] %></dd>
        <dt>
          <%= t('overviews.ip') %></dt>
        <dd><% ip = parse_key_value_pair(assembly.outputs, "ip") %>
          <%= ip if ip != "" %>
          <%= t('overviews.not_get_ip') if ip == "" %></dd>
        <dt class="margin-top-20"></dt>
        <dt>Region</dt>
        <dd><img src="assets/images/flag_IN.png">
          INDIA</dd>
      </dl>
    </div>
  </div>
  </div>

  <% end %>
  <%= render :template => "catalogs/show", :locals => {:cattype => Assemblies::TORPEDO} %>

  <script>
    $(document).ready(function () {
      $('[data-toggle="popover"]').popover({
        'html': 'true'
      });
    });
  </script>
  <script src="https://www.google.com/jsapi" type="text/javascript"></script>
