<!--
** Copyright [2013-2015] [Megam Systems]
**
** Licensed under the Apache License, Version 2.0 (the "License");
** you may not use this file except in compliance with the License.
** You may obtain a copy of the License at
**
** http://www.apache.org/licenses/LICENSE-2.0
**
** Unless required by applicable law or agreed to in writing, software
** distributed under the License is distributed on an "AS IS" BASIS,
** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
** See the License for the specific language governing permissions and
** limitations under the License.
-->
<% content_for :onecat_contents do %>
<% provide(:title, "Torpedo Overview") %>
<div class="rt-box col-xs-12 col-sm-8 col-md-9 col-lg-9 col-xl-9">
  <div class="">
    <div class="row c_pading-b15">
      <div class="storage_top">
        <div class="col-xs-12 col-sm-6 col-md-6">
          <h3>
            <b>
              Torpedo Overview
            </b>
          </h3>
        </div>
      </div>
    </div>
  </div>
  <div class="bottom-divider"></div>
  <div class="row">
    <div class="col-xs-12 col-sm-9 col-md-9 br_grey" id="tabs">

      <% domain = assembly.inputs.select { |x| x["key"] == "domain" }[0]['value'] %>
      <% @logname = "#{assembly.name}.#{domain}" %>
      <%= render 'catalogs/mycomponent' %>

    </div>

    <div class="col-sm-3 storage-rt-list">

      <dl><h3>Usage</h3>
         <dt><%= t('overviews.name') %></dt>
         <dd><%= assembly.name %>
           <%= t('marketplace.megambox') %></dd>
        <dt class="margin-top-20"></dt>

        <dt><%= t('overviews.available_ram') %></dt>
        <dd><%= assembly.inputs.select { |x| x["key"] == "ram" }[0]['value'] %>
          <%= t('overviews.mb') %></dd>
        <dt class="margin-top-20"></dt>
        <dt><%= t('overviews.cpu_core') %></dt>
        <dd><%= assembly.inputs.select { |x| x["key"] == "cpu" }[0]['value'] %></dd>
        <dt class="margin-top-20"></dt>
        <dt><%= t('overviews.os') %></dt>
        <dd><%= image_tag  "logos/#{assembly.tosca_type.split('.').last}.png", :alt => "" %>
        <dt class="margin-top-20"></dt>
        <dt>
          <%= t('overviews.ip') %></dt>
          <dd><% ip = parse_key_value_pair(assembly.outputs, "ip") %>
          <%= ip if ip != "" %>
          <%= t('overviews.not_get_ip') if ip == "" %></dd>
          <dt class="margin-top-20"></dt>
          <dt>URL</dt>
          <textarea cols='25' id='torpedo_link'>megam.com</textarea><dd><i class="my_clip c_icon-form" data-clipboard-target='torpedo_link' title='Click me to copy to clipboard.'></i></dd>
        <dt class="margin-top-20"></dt>
        <dt>Region</dt>
        <dd><img src="assets/flag_IN.png">
          INDIA</dd>
      </dl>
    </div>
  </div>
  </div>
  <div class='demo-area'>
<button class='my_clip_button' data-clipboard-target='fe_text' data-clipboard-text='Default clipboard text from attribute' id='d_clip_button' title='Click me to copy to clipboard.'>
<b>Copy To Clipboard...</b>
</button>
<textarea cols='50' id='fe_text'>Copy me!</textarea>
<h4>
<label for='testarea'>Paste Text Here</label>
</h4>
<textarea cols='50' id='testarea' rows='3'></textarea>
<p>
<button id='clear-test'>Clear Test Area</button>
</p>
</div>
  <% end %>
  <%= render :template => "catalogs/show", :locals => {:cattype => Api::Assemblies::TORPEDO} %>

  <script type="text/javascript">
  $(document).ready(function() {
  var clip = new ZeroClipboard($("#d_clip_button"))
});

$("#clear-test").on("click", function(){
  $("#fe_text").val("Copy me!");
  $("#testarea").val("");
});
  </script>
