<div class="row">
	<div class="col-md-12">
		<div class="widget-box">
			<div class="widget-title">
				<h5>SSH Keys</h5>
			</div>
			<div class="widget-content">
				<div class="row">
					<%= form_tag sshkey_create_path, multipart: true, :id =>'basic_validate', :novalidate => 'novalidate', :name => "basic_validate1",  :method => 'post', :remote => true, data: { spinlock: '#spin_sshkey'}  do %>
					<div class="col-md-12">
						<div class="col-md-6">
							<div class="col-md-12">
								<div class="col-md-4">
									<div class="row">
										<br/>
										<div class="col-md-3"></div>
										<div class="input-group  col-md-9">
											<span class="input-group-addon"><i class="icon-ticket"></i></span>
											<%= text_field_tag 'key_name', nil, :class=> 'required', placeholder: 'Enter a Name to Save' %>
										</div>
									</div>
									<input type="hidden" name="key_type" value="DSA">
									<input type="hidden" name="key_bit" value="1024">
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<%= submit_tag "Generate", :class => "btn btn-lg btn-success btn-block" %>
						</div>
					</div>
					<% end %>
				</div>
			</div>
		</div>
		<br/><br/>
		<div class="widget-box nopadding">
			<div class="widget-title">
				<span class="icon"> <i class="icon-th"></i> </span>
				<h5>Ssh Keys</h5>
			</div>
			<div class="widget-content nopadding">
				<table class="table table-bordered table-striped table-hover">
					<thead>
						<tr>
							<th>Name</th>
							<th>Created At</th>		
							<th></th>					
						</tr>
					</thead>
					<tbody>
						<% @ssh_keys.each do |sshkey| %>
						<tr>
							<td align="center"> <%= sshkey[:name] %></td>
							<td align="center"><%= sshkey[:created_at] %></td>
							<td align="center"><%= link_to  "Download", "#", :class => "btn btn-primary" %></td>
						</tr>
						<% end %>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<div id="sshkey_postfinish_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					×
				</button>
				<h3 id="myModalLabel">SSH keys</h3>
			</div>
			<div class="modal-body">
				<div class="alert alert-success">
					<p>
						<div id="res_msg"></div>
						</br>
					</p>
				</div>
			</div>
			<div class="modal-footer">
				<%= link_to  "Ok", cloud_settings_path, :class => "btn btn-primary", :target => "_self" %>
			</div>
		</div>
	</div>
</div>

<div id="sshkey_postfinish_popup_error" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					×
				</button>
				<h3 id="myModalLabel">SSH keys</h3>
			</div>
			<div class="modal-body">
				<div class="alert alert-error">

					<p>
						A SSH key creation request to the megam cloud gateway was not successful.
						</br>
						<div id="err_msg"></div>
					</p>
				</div>
			</div>
			<div class="modal-footer">
				<%= link_to  "Ok", cloud_settings_path, :class => "btn btn-primary", :target => "_self" %>
			</div>
		</div>
	</div>
</div>

